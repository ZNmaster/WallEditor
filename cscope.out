cscope 15 $HOME/CodeBlocks/WallEditor               0000021429
	@/home/vladyslav/CodeBlocks/WallEditor/WallEditorApp.cpp

10 #ifdeà
WX_PRECOMP


11 
	~"wx_pch.h
"

14 #ifdeà
__BORLANDC__


15 #´agm¨
hdr¡İ


18 
	~"W®lEd™ÜAµ.h
"

19 
	~"W®lEd™ÜMaš.h
"

21 
IMPLEMENT_APP
(
W®lEd™ÜAµ
);

23 
boŞ
 
	gW®lEd™ÜAµ
::
	$OnIn™
()

25 
W®lEd™ÜF¿me
* 
äame
 = 
Ãw
 
	`W®lEd™ÜF¿me
(0L, 
	`_
("Walls Editor"));

27 
äame
->
	`Show
();

29  
Œue
;

30 
	}
}

	@/home/vladyslav/CodeBlocks/WallEditor/WallEditorApp.h

10 #iâdeà
WALLEDITORAPP_H


11 
	#WALLEDITORAPP_H


	)

13 
	~<wx/­p.h
>

15 şas 
	cW®lEd™ÜAµ
 : 
public
 
wxAµ


17 
public
:

18 
vœtu®
 
boŞ
 
OnIn™
();

	@/home/vladyslav/CodeBlocks/WallEditor/WallEditorMain.cpp

10 #ifdeà
WX_PRECOMP


11 
	~"wx_pch.h
"

14 #ifdeà
__BORLANDC__


15 #´agm¨
hdr¡İ


18 
	~"W®lEd™ÜMaš.h
"

19 
	~"MyCªvas.h
"

22 
	ewxbudšfofÜm©
 {

23 
	mshÜt_f
, 
	mlÚg_f
 };

25 
wxSŒšg
 
	$wxbudšfo
(
wxbudšfofÜm©
 
fÜm©
)

27 
wxSŒšg
 
	`wxbud
(
wxVERSION_STRING
);

29 ià(
fÜm©
 =ğ
lÚg_f
 )

31 #ià
	`defšed
(
__WXMSW__
)

32 
wxbud
 << 
	`_T
("-Windows");

33 #–ià
	`defšed
(
__WXMAC__
)

34 
wxbud
 << 
	`_T
("-Mac");

35 #–ià
	`defšed
(
__UNIX__
)

36 
wxbud
 << 
	`_T
("-Linux");

39 #ià
wxUSE_UNICODE


40 
wxbud
 << 
	`_T
("-Unicode build");

42 
wxbud
 << 
	`_T
("-ANSI build");

46  
wxbud
;

47 
	}
}

51 
	gW®lEd™ÜF¿me
::
	$W®lEd™ÜF¿me
(
wxF¿me
 *
äame
, cÚ¡ 
wxSŒšg
& 
t™Ë
)

52 : 
	`wxF¿me
(
äame
, -1, 
t™Ë
)

55 
m_xLogiÿlOrigš
 = 0;

56 
m_yLogiÿlOrigš
 = 0;

57 
m_xAxisRev”£d
 =

58 
m_yAxisRev”£d
 = 
çl£
;

59 #ià
wxUSE_DC_TRANSFORM_MATRIX


60 
m_ŒªsfÜm_dx
 = 0.0;

61 
m_ŒªsfÜm_dy
 = 0.0;

62 
m_ŒªsfÜm_scx
 = 1.0;

63 
m_ŒªsfÜm_scy
 = 1.0;

64 
m_ŒªsfÜm_rÙ
 = 0.0;

66 
m_xU£rSÿË
 = 1.0;

67 
m_yU£rSÿË
 = 1.0;

69 
süŞl_pix_³r_un™
 = 10;

71 #ià
wxUSE_MENUS


73 
wxM’uB¬
* 
mb¬
 = 
Ãw
 
	`wxM’uB¬
();

74 
wxM’u
* 
feM’u
 = 
Ãw
 
	`wxM’u
(
	`_T
(""));

75 
feM’u
->
	`Aµ’d
(
idM’uQu™
, 
	`_
("&Quit\tAlt-F4"), _("Quithe‡pplication"));

76 
feM’u
->
	`Aµ’d
(
idM’uO³n
, 
	`_
("&Open\tCtrl-O"), _("Open file"));

77 
mb¬
->
	`Aµ’d
(
feM’u
, 
	`_
("&File"));

79 
wxM’u
* 
h–pM’u
 = 
Ãw
 
	`wxM’u
(
	`_T
(""));

80 
h–pM’u
->
	`Aµ’d
(
idM’uAbout
, 
	`_
("&About\tF1"), _("Show info‡bouthis‡pplication"));

81 
mb¬
->
	`Aµ’d
(
h–pM’u
, 
	`_
("&Help"));

83 
	`S‘M’uB¬
(
mb¬
);

86 #ià
wxUSE_STATUSBAR


88 
	`C»©eStusB¬
(2);

89 
	`S‘StusText
(
	`_
("Hello Code::Blocks user!"),0);

90 
	`S‘StusText
(
	`wxbudšfo
(
shÜt_f
), 1);

112 
m_ÿnvas
 = 
Ãw
 
	`MyCªvas
Ğ
this
 );

116 
	`wxIn™AÎImageHªdËrs
();

118 
wxB™m­
 
my_image
;

120 
my_image
.
	`LßdFe
("Lev–.²g", 
wxBITMAP_TYPE_PNG
);

125 
m_ÿnvas
->
	`S‘SüŞlb¬s
Ğ
süŞl_pix_³r_un™
, scroll_pix_per_unit, 100, 240 );

129 
	`S‘Size
(
	`FromDIP
(
	`wxSize
(800, 700)));

130 
	`C’‹r
(
wxBOTH
);

132 
	}
}

134 
	gW®lEd™ÜF¿me
::
	$P»·»DC
(
wxDC
& 
dc
)

136 #ià
wxUSE_DC_TRANSFORM_MATRIX


137 iàĞ
dc
.
	`CªU£T¿nsfÜmM©rix
() )

139 
wxAffšeM©rix2D
 
mtx
;

140 
mtx
.
	`T¿n¦©e
(
m_ŒªsfÜm_dx
, 
m_ŒªsfÜm_dy
);

141 
mtx
.
	`RÙ©e
(
	`wxDegToRad
(
m_ŒªsfÜm_rÙ
));

142 
mtx
.
	`SÿË
(
m_ŒªsfÜm_scx
, 
m_ŒªsfÜm_scy
);

143 
dc
.
	`S‘T¿nsfÜmM©rix
(
mtx
);

146 
dc
.
	`S‘LogiÿlOrigš
Ğdc.
	`FromDIP
(
m_xLogiÿlOrigš
), dc.FromDIP(
m_yLogiÿlOrigš
) );

147 
dc
.
	`S‘AxisOr›Á©iÚ
Ğ!
m_xAxisRev”£d
, 
m_yAxisRev”£d
 );

148 
dc
.
	`S‘U£rSÿË
Ğ
m_xU£rSÿË
, 
m_yU£rSÿË
 );

150 
	}
}

152 
	gW®lEd™ÜF¿me
::~
	$W®lEd™ÜF¿me
()

154 ià(
MyM­
)

156 
	`wxDELETE
 (
MyM­
);

157 
MyM­
 = 
nuÎ±r
;

160 
	}
}

	@/home/vladyslav/CodeBlocks/WallEditor/WallEditorMain.h

10 #iâdeà
WALLEDITORMAIN_H


11 
	#WALLEDITORMAIN_H


	)

13 #iâdeà
WX_PRECOMP


14 
	~<wx/wx.h
>

17 
	~"W®lEd™ÜAµ.h
"

19 
şass
 
	gMyCªvas
;

21 şas 
	cW®lEd™ÜF¿me
: 
public
 
wxF¿me


23 
public
:

24 
W®lEd™ÜF¿me
(
wxF¿me
 *
äame
, cÚ¡ 
wxSŒšg
& 
t™Ë
);

25 
MyCªvas
 *
	mm_ÿnvas
;

26 
wxB™m­
 *
	mMyM­
 = 
nuÎ±r
;

29 
	$P»·»DC
(
wxDC
& 
dc
è
wxOVERRIDE
;

31 
m_backgroundMode
 = 
wxBRUSHSTYLE_SOLID
;

34 
m_xLogiÿlOrigš
;

35 
m_yLogiÿlOrigš
;

36 
boŞ
 
m_xAxisRev”£d
,

37 
m_yAxisRev”£d
;

38 #ià
wxUSE_DC_TRANSFORM_MATRIX


39 
wxDoubË
 
m_ŒªsfÜm_dx
;

40 
wxDoubË
 
m_ŒªsfÜm_dy
;

41 
wxDoubË
 
m_ŒªsfÜm_scx
;

42 
wxDoubË
 
m_ŒªsfÜm_scy
;

43 
wxDoubË
 
m_ŒªsfÜm_rÙ
;

45 
m_xU£rSÿË
,

46 
m_yU£rSÿË
;

51 
vœtu®
 ~
	`W®lEd™ÜF¿me
();

52 
´iv©e
:

53 
süŞl_pix_³r_un™
;

57 
idM’uQu™
 = 1000,

58 
idM’uAbout
,

59 
idM’uO³n


62 
	`OnClo£
(
wxClo£Ev’t
& 
ev’t
);

63 
	`OnO³n
(
wxCommªdEv’t
& 
ev’t
);

64 
	`OnQu™
(
wxCommªdEv’t
& 
ev’t
);

65 
	`OnAbout
(
wxCommªdEv’t
& 
ev’t
);

67 
	`DECLARE_EVENT_TABLE
()

68 
	}
};

	@/home/vladyslav/CodeBlocks/WallEditor/include/MyCanvas.h

11 #iâdeà
MYCANVAS_H


12 
	#MYCANVAS_H


	)

15 
	~"wx/wx´ec.h
"

20 #iâdeà
WX_PRECOMP


21 
	~"wx/wx.h
"

24 
	~"wx/cŞÜdlg.h
"

25 
	~"wx/image.h
"

26 
	~"wx/¬rov.h
"

27 
	~"wx/dcbufãr.h
"

28 
	~"wx/dcg¿ph.h
"

29 
	~"wx/ov”Ïy.h
"

30 
	~"wx/g¿phics.h
"

31 
	~"wx/f’ame.h
"

32 
	~"wx/m‘afe.h
"

33 
	~"wx/£‰šgs.h
"

34 #ià
wxUSE_SVG


35 
	~"wx/dcsvg.h
"

37 #ià
wxUSE_POSTSCRIPT


38 
	~"wx/dıs.h
"

42 #ià
defšed
(
__WXOSX__
è|| defšed(
__WXGTK3__
)

43 
	#wxDRAWING_DC_SUPPORTS_ALPHA
 1

	)

45 
	#wxDRAWING_DC_SUPPORTS_ALPHA
 0

	)

49 
şass
 
	gW®lEd™ÜF¿me
;

51 şas 
	cMyCªvas
: 
public
 
wxSüŞËdWšdow


53 
public
:

54 
MyCªvas
Ğ
W®lEd™ÜF¿me
 *
·»Á
 );

55 
	mvœtu®
 ~
MyCªvas
();

57 
OnPašt
(
wxPaštEv’t
 &
ev’t
);

58 
OnMou£Move
(
wxMou£Ev’t
 &
ev’t
);

59 
OnMou£Down
(
wxMou£Ev’t
 &
ev’t
);

60 
OnMou£Up
(
wxMou£Ev’t
 &
ev’t
);

62 
	$ToShow
(
show
è{ 
m_show
 = show; 
	`Reäesh
(); }

63 
	$G‘Page
(è{  
m_show
; 
	}
}

66 
	$Cl
(
boŞ
 
ş
è{ 
m_ş
 = cl; 
	`Reäesh
(); 
	}
}

67 #ià
wxUSE_GRAPHICS_CONTEXT


68 
boŞ
 
	$HasR’d””
(ècÚ¡ {  
m_»nd””
 !ğ
NULL
; 
	}
}

69 
U£G¿phicR’d””
(
wxG¿phicsR’d””
* 
»nd””
);

70 
boŞ
 
	$IsDeçuÉR’d””
() const

71 { iàĞ!
m_»nd””
 )  
çl£
;

72  
m_»nd””
 =ğ
wxG¿phicsR’d””
::
	`G‘DeçuÉR’d””
();

73 
	}
}

74 
wxG¿phicsR’d””
* 
	$G‘R’d””
(ècÚ¡ {  
m_»nd””
; 
	}
}

75 
	$EÇbËAÁiAlŸsšg
(
boŞ
 
u£
è{ 
m_u£AÁiAlŸsšg
 = u£; 
	`Reäesh
(); 
	}
}

77 
	$U£Bufãr
(
boŞ
 
u£
è{ 
m_u£Bufãr
 = u£; 
	`Reäesh
(); 
	}
}

78 
	$ShowBoundšgBox
(
boŞ
 
show
è{ 
m_showBBox
 = show; 
	`Reäesh
(); 
	}
}

79 
wxSize
 
	$G‘DIPD¿wšgSize
() const;

81 
	`D¿w
(
wxDC
& 
dc
);

83 
	`S‘M­
(
wxB™m­
 *
M­_±r
);

84 
wxB™m­
 *
MyM­
 = 
nuÎ±r
;

86 
´Ùeùed
:

87 
	eD¿wMode


89 
D¿w_NÜm®
,

90 
D¿w_SŒ‘ch


91 
	}
};

93 
D¿wTe¡Lšes
Ğ
x
, 
y
, 
width
, 
wxDC
 &
dc
 );

94 
D¿wCrossHaœ
(
x
, 
y
, 
width
, 
heigth
, 
wxDC
 &
dc
);

95 
D¿wTe¡PŞy
(
wxDC
& 
dc
);

96 
D¿wTe¡Brushes
(
wxDC
& 
dc
);

97 
D¿wText
(
wxDC
& 
dc
);

98 
D¿wImages
(
wxDC
& 
dc
, 
D¿wMode
 
mode
);

99 
D¿wW™hLogiÿlOps
(
wxDC
& 
dc
);

100 #ià
wxDRAWING_DC_SUPPORTS_ALPHA
 || 
wxUSE_GRAPHICS_CONTEXT


101 
D¿wAÍha
(
wxDC
& 
dc
);

103 #ià
wxUSE_GRAPHICS_CONTEXT


104 
D¿wG¿phics
(
wxG¿phicsCÚ‹xt
* 
gc
);

106 
D¿wRegiÚs
(
wxDC
& 
dc
);

107 
D¿wCœşes
(
wxDC
& 
dc
);

108 
D¿wS¶šes
(
wxDC
& 
dc
);

109 
D¿wDeçuÉ
(
wxDC
& 
dc
);

110 
D¿wG¿d›Ás
(
wxDC
& 
dc
);

111 
D¿wSy¡emCŞours
(
wxDC
& 
dc
);

112 
D¿wD©aba£CŞours
(
wxDC
& 
dc
);

113 
D¿wCŞour
(
wxDC
& 
dc
, cÚ¡ 
wxFÚt
& 
mÚo
, 
wxCoÜd
 
x
, cÚ¡ 
wxReù
& 
r
, cÚ¡ 
wxSŒšg
& 
cŞourName
, cÚ¡ 
wxCŞour
& 
cŞ
);

115 
D¿wRegiÚsH–³r
(
wxDC
& 
dc
, 
wxCoÜd
 
x
, 
boŞ
 
fœ¡Time
);

117 
	g´iv©e
:

118 
W®lEd™ÜF¿me
 *
m_owÃr
;

120 
	gm_show
;

121 
wxB™m­
 
	gm_sme_bmp
;

122 
wxIcÚ
 
	gm_¡d_icÚ
;

123 
boŞ
 
	gm_ş
;

124 
wxOv”Ïy
 
	gm_ov”Ïy
;

125 
boŞ
 
	gm_rubb”Bªd
;

126 
wxPošt
 
	gm_ªchÜpošt
;

127 
wxPošt
 
	gm_cu¼’ošt
;

128 #ià
wxUSE_GRAPHICS_CONTEXT


129 
wxG¿phicsR’d””
* 
	gm_»nd””
;

130 
boŞ
 
	gm_u£AÁiAlŸsšg
;

132 
boŞ
 
	gm_u£Bufãr
;

133 
boŞ
 
	gm_showBBox
;

134 
wxSize
 
	gm_sizeDIP
;

137 
wxDECLARE_EVENT_TABLE
();

	@/home/vladyslav/CodeBlocks/WallEditor/src/MyCanvas.cpp

11 
	~"MyCªvas.h
"

12 
	~"W®lEd™ÜMaš.h
"

14 
	gMyCªvas
::
	$MyCªvas
(
W®lEd™ÜF¿me
 *
·»Á
)

15 : 
	`wxSüŞËdWšdow
(
·»Á
, 
wxID_ANY
, 
wxDeçuÉPos™iÚ
, 
wxDeçuÉSize
,

16 
wxHSCROLL
 | 
wxVSCROLL
)

18 
m_owÃr
 = 
·»Á
;

22 
m_ş
 = 
çl£
;

23 
m_rubb”Bªd
 = 
çl£
;

24 #ià
wxUSE_GRAPHICS_CONTEXT


25 
m_»nd””
 = 
NULL
;

26 
m_u£AÁiAlŸsšg
 = 
Œue
;

28 
m_u£Bufãr
 = 
çl£
;

29 
m_showBBox
 = 
çl£
;

30 
m_sizeDIP
 = 
	`wxSize
(0, 0);

31 
	}
}

33 
	gMyCªvas
::
	$S‘M­
(
wxB™m­
 *
M­_±r
)

35 
MyM­
 = 
M­_±r
;

36 
wxCl›ÁDC
 
	`dc
(
this
);

37 
	`P»·»DC
(
dc
);

38 
m_owÃr
->
	`P»·»DC
(
dc
);

39 
	`D¿wDeçuÉ
(
dc
);

40 
	}
}

42 
	gMyCªvas
::
	$D¿wTe¡Brushes
(
wxDC
& 
dc
)

45 
	}
}

47 
MyCªvas
::
	$D¿wTe¡PŞy
(
wxDC
& 
dc
)

50 
	}
}

52 
MyCªvas
::
	$D¿wTe¡Lšes
Ğ
x
, 
y
, 
width
, 
wxDC
 &
dc
 )

55 
	}
}

57 
	gMyCªvas
::
	$D¿wCrossHaœ
(
x
, 
y
, 
width
, 
heigth
, 
wxDC
 &
dc
)

60 
	}
}

62 
	gMyCªvas
::
	$D¿wDeçuÉ
(
wxDC
& 
dc
)

64 
dc
.
	`D¿wB™m­
(*
MyM­
, dc.
	`FromDIP
(0), dc.FromDIP(0), 
Œue
);

65 
	}
}

67 
	gMyCªvas
::
	$D¿wText
(
wxDC
& 
dc
)

70 
	}
}

75 
wxSŒšg
 
Çme
;

76 
wxRa¡”O³¿tiÚMode
 
	mrİ
;

77 } 
	g¿¡”O³¿tiÚs
[] =

79 { "wxAND", 
wxAND
 },

80 { "wxAND_INVERT", 
wxAND_INVERT
 },

81 { "wxAND_REVERSE", 
wxAND_REVERSE
 },

82 { "wxCLEAR", 
wxCLEAR
 },

83 { "wxCOPY", 
wxCOPY
 },

84 { "wxEQUIV", 
wxEQUIV
 },

85 { "wxINVERT", 
wxINVERT
 },

86 { "wxNAND", 
wxNAND
 },

87 { "wxNO_OP", 
wxNO_OP
 },

88 { "wxOR", 
wxOR
 },

89 { "wxOR_INVERT", 
wxOR_INVERT
 },

90 { "wxOR_REVERSE", 
wxOR_REVERSE
 },

91 { "wxSET", 
wxSET
 },

92 { "wxSRC_INVERT", 
wxSRC_INVERT
 },

93 { "wxXOR", 
wxXOR
 },

96 
	gMyCªvas
::
	$D¿wImages
(
wxDC
& 
dc
, 
D¿wMode
 
mode
)

99 
	}
}

101 
	gMyCªvas
::
	$D¿wW™hLogiÿlOps
(
wxDC
& 
dc
)

104 
	}
}

106 #ià
wxDRAWING_DC_SUPPORTS_ALPHA
 || 
wxUSE_GRAPHICS_CONTEXT


107 
MyCªvas
::
	$D¿wAÍha
(
wxDC
& 
dc
)

110 
	}
}

113 #ià
wxUSE_GRAPHICS_CONTEXT


117 
MyCªvas
::
	$D¿wG¿phics
(
wxG¿phicsCÚ‹xt
* 
gc
)

120 
	}
}

123 
MyCªvas
::
	$D¿wCœşes
(
wxDC
& 
dc
)

126 
	}
}

128 
MyCªvas
::
	$D¿wS¶šes
(
wxDC
& 
dc
)

131 
	}
}

133 
MyCªvas
::
	$D¿wG¿d›Ás
(
wxDC
& 
dc
)

136 
	}
}

138 
MyCªvas
::
	$D¿wSy¡emCŞours
(
wxDC
& 
dc
)

141 
	}
}

143 
MyCªvas
::
	$D¿wD©aba£CŞours
(
wxDC
& 
dc
)

146 
	}
}

148 
MyCªvas
::
	$D¿wCŞour
(
wxDC
& 
dc
, cÚ¡ 
wxFÚt
& 
mÚo
, 
wxCoÜd
 
x
, cÚ¡ 
wxReù
& 
r
, cÚ¡ 
wxSŒšg
& 
cŞourName
, cÚ¡ 
wxCŞour
& 
cŞ
)

151 
	}
}

153 
	gMyCªvas
::
	$D¿wRegiÚs
(
wxDC
& 
dc
)

156 
	}
}

158 
MyCªvas
::
	$D¿wRegiÚsH–³r
(
wxDC
& 
dc
, 
wxCoÜd
 
x
, 
boŞ
 
fœ¡Time
)

161 
	}
}

163 
wxSize
 
	gMyCªvas
::
	$G‘DIPD¿wšgSize
() const

165  
m_sizeDIP
;

166 
	}
}

168 
	gMyCªvas
::
	$D¿w
(
wxDC
& 
pdc
)

171 #ià
wxUSE_GRAPHICS_CONTEXT


172 
wxGCDC
 
gdc
;

174 iàĞ
m_»nd””
 )

176 
wxG¿phicsCÚ‹xt
* 
cÚ‹xt
;

177 iàĞ
wxPaštDC
 *
·štdc
 = 
	`wxDyÇmicCa¡
(&
pdc
, wxPaintDC) )

179 
cÚ‹xt
 = 
m_»nd””
->
	`C»©eCÚ‹xt
(*
·štdc
);

181 iàĞ
wxMemÜyDC
 *
memdc
 = 
	`wxDyÇmicCa¡
(&
pdc
, wxMemoryDC) )

183 
cÚ‹xt
 = 
m_»nd””
->
	`C»©eCÚ‹xt
(*
memdc
);

185 #ià
wxUSE_METAFILE
 && 
	`defšed
(
wxMETAFILE_IS_ENH
)

186 iàĞ
wxM‘afeDC
 *
m‘adc
 = 
	`wxDyÇmicCa¡
(&
pdc
, wxMetafileDC) )

188 
cÚ‹xt
 = 
m_»nd””
->
	`C»©eCÚ‹xt
(*
m‘adc
);

193 
	`wxFAIL_MSG
( "Unknown wxDC kind" );

197 
cÚ‹xt
->
	`S‘AÁŸlŸsMode
(
m_u£AÁiAlŸsšg
 ? 
wxANTIALIAS_DEFAULT
 : 
wxANTIALIAS_NONE
);

199 
gdc
.
	`S‘Background
(
	`G‘BackgroundCŞour
());

200 
gdc
.
	`S‘G¿phicsCÚ‹xt
(
cÚ‹xt
);

203 
wxDC
 &
dc
 = 
m_»nd””
 ? 
¡©ic_ÿ¡
<wxDC&>(
gdc
è: 
pdc
;

205 
wxDC
 &
dc
 = 
pdc
 ;

209 iàĞ
	`wxDyÇmicCa¡
(&
pdc
, 
wxBufã»dPaštDC
) ||

210 
	`wxDyÇmicCa¡
(&
pdc
, 
wxPaštDC
) )

212 
	`P»·»DC
(
dc
);

215 
m_owÃr
->
	`P»·»DC
(
dc
);

217 
dc
.
	`S‘BackgroundMode
Ğ
m_owÃr
->
m_backgroundMode
 );

234 
dc
.
	`CË¬
();

240 ià(
MyM­
) {

241 
	`D¿wDeçuÉ
(
dc
);

247 iàĞ
	`wxDyÇmicCa¡
(&
pdc
, 
wxBufã»dPaštDC
) ||

248 
	`wxDyÇmicCa¡
(&
pdc
, 
wxPaštDC
) )

250 
wxCoÜd
 
x0
, 
y0
;

251 
dc
.
	`G‘DeviûOrigš
(&
x0
, &
y0
);

252 
m_sizeDIP
.
x
 = 
dc
.
	`ToDIP
(dc.
	`LogiÿlToDeviûX
(dc.
	`MaxX
()è- 
x0
) + 1;

253 
m_sizeDIP
.
y
 = 
dc
.
	`ToDIP
(dc.
	`LogiÿlToDeviûY
(dc.
	`MaxY
()è- 
y0
) + 1;

255 
	}
}

258 #ià
wxUSE_GRAPHICS_CONTEXT


259 
	gMyCªvas
::
	$U£G¿phicR’d””
(
wxG¿phicsR’d””
* 
»nd””
)

261 
m_»nd””
 = 
»nd””
;

262 ià(
»nd””
)

264 
majÜ
, 
mšÜ
, 
miüo
;

265 
»nd””
->
	`G‘V”siÚ
(&
majÜ
, &
mšÜ
, &
miüo
);

266 
wxSŒšg
 
¡r
 = wxSŒšg::
	`FÜm©
("Graphics„enderer: %s %i.%i.%i",

267 
»nd””
->
	`G‘Name
(), 
majÜ
, 
mšÜ
, 
miüo
);

268 
m_owÃr
->
	`S‘StusText
(
¡r
, 1);

272 
m_owÃr
->
	`S‘StusText
(
wxEm±ySŒšg
, 1);

275 
	`Reäesh
();

276 
	}
}

280 #ià
wxUSE_DC_TRANSFORM_MATRIX


281 
	~"wx/v®num.h
"

283 şas 
	cT¿nsfÜmD©aDŸlog
 : 
public
 
wxDŸlog


285 
public
:

286 
	$T¿nsfÜmD©aDŸlog
(
wxWšdow
* 
·»Á
, 
wxDoubË
 
dx
, wxDoubË 
dy
, wxDoubË 
scx
, wxDoubË 
scy
, wxDoubË 
rÙAngË
)

287 : 
	`wxDŸlog
(
·»Á
, 
wxID_ANY
, "Affineransformation…arameters")

288 , 
	`m_dx
(
dx
)

289 , 
	`m_dy
(
dy
)

290 , 
	`m_scx
(
scx
)

291 , 
	`m_scy
(
scy
)

292 , 
	$m_rÙAngË
(
rÙAngË
)

294 
wxBoxSiz”
* 
siz”
 = 
Ãw
 
	`wxBoxSiz”
(
wxVERTICAL
);

296 cÚ¡ 
bÜd”
 = 
wxSiz”FÏgs
::
	`G‘DeçuÉBÜd”
();

297 
wxFËxGridSiz”
* 
·¿mSiz”
 = 
Ãw
 
	`wxFËxGridSiz”
(2, 
	`wxSize
(
bÜd”
, border));

298 
·¿mSiz”
->
	`Add
(
Ãw
 
	`wxSticText
(
this
, 
wxID_ANY
, "T¿n¦©iÚ X:"), 
	`wxSiz”FÏgs
().
	`C’ŒeV”tiÿl
());

299 
wxFlßtšgPoštV®id©Ü
<
wxDoubË
> 
	`v®_dx
(1, &
m_dx
, 
wxNUM_VAL_NO_TRAILING_ZEROES
);

300 
·¿mSiz”
->
	`Add
(
Ãw
 
	`wxTextCŒl
(
this
, 
wxID_ANY
, "", 
wxDeçuÉPos™iÚ
, 
wxDeçuÉSize
, 0, 
v®_dx
), 
	`wxSiz”FÏgs
().
	`C’ŒeV”tiÿl
());

301 
·¿mSiz”
->
	`Add
(
Ãw
 
	`wxSticText
(
this
, 
wxID_ANY
, "T¿n¦©iÚ Y:"), 
	`wxSiz”FÏgs
().
	`C’ŒeV”tiÿl
());

302 
wxFlßtšgPoštV®id©Ü
<
wxDoubË
> 
	`v®_dy
(1, &
m_dy
, 
wxNUM_VAL_NO_TRAILING_ZEROES
);

303 
·¿mSiz”
->
	`Add
(
Ãw
 
	`wxTextCŒl
(
this
, 
wxID_ANY
, "", 
wxDeçuÉPos™iÚ
, 
wxDeçuÉSize
, 0, 
v®_dy
), 
	`wxSiz”FÏgs
().
	`C’ŒeV”tiÿl
());

304 
·¿mSiz”
->
	`Add
(
Ãw
 
	`wxSticText
(
this
, 
wxID_ANY
, "SÿË X (0.2 - 5):"), 
	`wxSiz”FÏgs
().
	`C’ŒeV”tiÿl
());

305 
wxFlßtšgPoštV®id©Ü
<
wxDoubË
> 
	`v®_scx
(2, &
m_scx
, 
wxNUM_VAL_NO_TRAILING_ZEROES
);

306 
·¿mSiz”
->
	`Add
(
Ãw
 
	`wxTextCŒl
(
this
, 
wxID_ANY
, "", 
wxDeçuÉPos™iÚ
, 
wxDeçuÉSize
, 0, 
v®_scx
), 
	`wxSiz”FÏgs
().
	`C’ŒeV”tiÿl
());

307 
·¿mSiz”
->
	`Add
(
Ãw
 
	`wxSticText
(
this
, 
wxID_ANY
, "SÿË Y (0.2 - 5):"), 
	`wxSiz”FÏgs
().
	`C’ŒeV”tiÿl
());

308 
wxFlßtšgPoštV®id©Ü
<
wxDoubË
> 
	`v®_scy
(2, &
m_scy
, 
wxNUM_VAL_NO_TRAILING_ZEROES
);

309 
·¿mSiz”
->
	`Add
(
Ãw
 
	`wxTextCŒl
(
this
, 
wxID_ANY
, "", 
wxDeçuÉPos™iÚ
, 
wxDeçuÉSize
, 0, 
v®_scy
), 
	`wxSiz”FÏgs
().
	`C’ŒeV”tiÿl
());

310 
·¿mSiz”
->
	`Add
(
Ãw
 
	`wxSticText
(
this
, 
wxID_ANY
, "RÙ©iÚ‡ngË (deg):"), 
	`wxSiz”FÏgs
().
	`C’ŒeV”tiÿl
());

311 
wxFlßtšgPoštV®id©Ü
<
wxDoubË
> 
	`v®_rÙ
(1, &
m_rÙAngË
, 
wxNUM_VAL_NO_TRAILING_ZEROES
);

312 
·¿mSiz”
->
	`Add
(
Ãw
 
	`wxTextCŒl
(
this
, 
wxID_ANY
, "", 
wxDeçuÉPos™iÚ
, 
wxDeçuÉSize
, 0, 
v®_rÙ
), 
	`wxSiz”FÏgs
().
	`C’ŒeV”tiÿl
());

313 
siz”
->
	`Add
(
·¿mSiz”
, 
	`wxSiz”FÏgs
().
	`DoubËBÜd”
());

315 
wxSiz”
 *
bŠSiz”
 = 
	`C»©eS•¬©edBu‰ÚSiz”
(
wxOK
 | 
wxCANCEL
);

316 
siz”
->
	`Add
(
bŠSiz”
, 
	`wxSiz”FÏgs
().
	`Ex·nd
().
	`BÜd”
());

318 
	`S‘Siz”AndF™
(
siz”
);

321 
vœtu®
 
boŞ
 
	$T¿nsãrD©aFromWšdow
(è
wxOVERRIDE


323 iàĞ!
wxDŸlog
::
	`T¿nsãrD©aFromWšdow
() )

324  
çl£
;

326 iàĞ
m_scx
 < 0.2 || m_scx > 5.0 || 
m_scy
 < 0.2 || m_scy > 5.0 )

328 iàĞ!
wxV®id©Ü
::
	`IsS’t
() )

329 
	`wxB–l
();

331  
çl£
;

334  
Œue
;

335 
	}
}

337 
	$G‘T¿nsfÜm©iÚD©a
(
wxDoubË
* 
dx
, wxDoubË* 
dy
, wxDoubË* 
scx
, wxDoubË* 
scy
, wxDoubË* 
rÙAngË
) const

339 iàĞ
dx
 )

340 *
dx
 = 
m_dx
;

342 iàĞ
dy
 )

343 *
dy
 = 
m_dy
;

345 iàĞ
scx
 )

346 *
scx
 = 
m_scx
;

348 iàĞ
scy
 )

349 *
scy
 = 
m_scy
;

351 iàĞ
rÙAngË
 )

352 *
rÙAngË
 = 
m_rÙAngË
;

353 
	}
}

355 
	g´iv©e
:

356 
wxDoubË
 
m_dx
;

357 
wxDoubË
 
	gm_dy
;

358 
wxDoubË
 
	gm_scx
;

359 
wxDoubË
 
	gm_scy
;

360 
wxDoubË
 
	gm_rÙAngË
;

364 
	gMyCªvas
::~
	$MyCªvas
()

367 
	}
}

	@/home/vladyslav/CodeBlocks/WallEditor/src/event_handlers.cpp

10 
	~"W®lEd™ÜMaš.h
"

11 
	~"MyCªvas.h
"

14 
	gW®lEd™ÜF¿me
::
	$OnClo£
(
wxClo£Ev’t
 &
ev’t
)

16 
	`De¡roy
();

17 
	}
}

19 
	gW®lEd™ÜF¿me
::
	$OnQu™
(
wxCommªdEv’t
 &
ev’t
)

21 
	`De¡roy
();

22 
	}
}

24 
	gW®lEd™ÜF¿me
::
	$OnAbout
(
wxCommªdEv’t
 &
ev’t
)

26 
wxSŒšg
 
msg
 = "WallEditor for LemonWars v0.1";

27 
	`wxMes§geBox
(
msg
, 
	`_
("Welcomeo..."));

28 
	}
}

30 
	gW®lEd™ÜF¿me
::
	$OnO³n
(
wxCommªdEv’t
 &
ev’t
)

34 
wxB™m­
 *
‹mp_b™m­
 = 
nuÎ±r
;

36 ià(
MyM­
)

38 
‹mp_b™m­
 = 
MyM­
;

46 
boŞ
 
Fe_lßded
 = 
çl£
;

48 
MyM­
 = 
Ãw
 
wxB™m­
;

50 
wxFeDŸlog
 
	`İ’FeDŸlog
(
this
);

52 ià(
İ’FeDŸlog
.
	`ShowMod®
(è=ğ
wxID_OK
)

54 
wxSŒšg
 
feName
 = 
İ’FeDŸlog
.
	`G‘P©h
();

55 
Fe_lßded
 = 
MyM­
->
	`LßdFe
(
feName
, 
wxBITMAP_TYPE_ANY
);

59 ià(
Fe_lßded
)

61 
m_ÿnvas
->
	`S‘M­
(
MyM­
);

62 ià(
‹mp_b™m­
è
	`wxDELETE
(temp_bitmap);

67 
un™s_x
 = 
MyM­
->
	`G‘Width
(è/ 
süŞl_pix_³r_un™
;

68 
un™s_y
 = 
MyM­
->
	`G‘Height
(è/ 
süŞl_pix_³r_un™
;

70 
m_ÿnvas
->
	`S‘SüŞlb¬s
Ğ
süŞl_pix_³r_un™
*
m_xU£rSÿË
, süŞl_pix_³r_un™*
m_yU£rSÿË
, 
un™s_x
, 
un™s_y
 );

84 
	}
}

90 
	gMyCªvas
::
OnPašt
(
wxPaštEv’t
 &
	$WXUNUSED
(
ev’t
))

93 iàĞ
m_u£Bufãr
 )

95 
wxBufã»dPaštDC
 
	`bpdc
(
this
);

96 
	`D¿w
(
bpdc
);

100 
wxPaštDC
 
	`pdc
(
this
);

101 
	`D¿w
(
pdc
);

103 
	}
}

106 
	gMyCªvas
::
	$OnMou£Move
(
wxMou£Ev’t
 &
ev’t
)

108 #ià
wxUSE_STATUSBAR


110 
wxCl›ÁDC
 
	`dc
(
this
);

111 
	`P»·»DC
(
dc
);

112 
m_owÃr
->
	`P»·»DC
(
dc
);

114 
wxPošt
 
pos
 = 
dc
.
	`DeviûToLogiÿl
(
ev’t
.
	`G‘Pos™iÚ
());

115 
wxPošt
 
dPos
 = 
dc
.
	`ToDIP
(
pos
);

116 
wxSŒšg
 
¡r
;

117 
¡r
.
	`Prštf
Ğ"Mou£…os™iÚ: %d,%d", 
pos
.
x
,…os.
y
 );

118 iàĞ
pos
 !ğ
dPos
 )

119 
¡r
 +ğ
wxSŒšg
::
	`FÜm©
("; DIP…os™iÚ: %d,%d", 
dPos
.
x
, dPos.
y
);

120 
m_owÃr
->
	`S‘StusText
Ğ
¡r
 );

123 iàĞ
m_rubb”Bªd
 )

125 
x
,
y
, 
xx
, 
yy
 ;

126 
ev’t
.
	`G‘Pos™iÚ
(&
x
,&
y
);

127 
	`C®cUnsüŞËdPos™iÚ
Ğ
x
, 
y
, &
xx
, &
yy
 );

128 
m_cu¼’ošt
 = 
	`wxPošt
Ğ
xx
 , 
yy
 ) ;

129 
wxReù
 
	`Ãw»ù
 ( 
m_ªchÜpošt
 , 
m_cu¼’ošt
 ) ;

131 
wxCl›ÁDC
 
	`dc
Ğ
this
 ) ;

132 
	`P»·»DC
Ğ
dc
 ) ;

134 
wxDCOv”Ïy
 
	`ov”Ïydc
Ğ
m_ov”Ïy
, &
dc
 );

135 
ov”Ïydc
.
	`CË¬
();

136 #ifdeà
__WXMAC__


137 
dc
.
	`S‘P’
Ğ*
wxGREY_PEN
 );

138 
dc
.
	`S‘Brush
Ğ
	`wxCŞour
( 192,192,192,64 ) );

140 
dc
.
	`S‘P’
Ğ
	`wxP’
Ğ*
wxLIGHT_GREY
, 2 ) );

141 
dc
.
	`S‘Brush
Ğ*
wxTRANSPARENT_BRUSH
 );

143 
dc
.
	`D¿wReùªgË
Ğ
Ãw»ù
 );

146 
	`wxUnu£dV¬
(
ev’t
);

148 
	}
}

150 
	gMyCªvas
::
	$OnMou£Down
(
wxMou£Ev’t
 &
ev’t
)

152 
x
,
y
,
xx
,
yy
 ;

153 
ev’t
.
	`G‘Pos™iÚ
(&
x
,&
y
);

154 
	`C®cUnsüŞËdPos™iÚ
Ğ
x
, 
y
, &
xx
, &
yy
 );

155 
m_ªchÜpošt
 = 
	`wxPošt
Ğ
xx
 , 
yy
 ) ;

156 
m_cu¼’ošt
 = 
m_ªchÜpošt
 ;

157 
m_rubb”Bªd
 = 
Œue
 ;

158 
	`C­tu»Mou£
() ;

159 
	}
}

161 
	gMyCªvas
::
	$OnMou£Up
(
wxMou£Ev’t
 &
ev’t
)

163 iàĞ
m_rubb”Bªd
 )

165 
	`R–—£Mou£
();

167 
wxCl›ÁDC
 
	`dc
Ğ
this
 );

168 
	`P»·»DC
Ğ
dc
 );

169 
wxDCOv”Ïy
 
	`ov”Ïydc
Ğ
m_ov”Ïy
, &
dc
 );

170 
ov”Ïydc
.
	`CË¬
();

172 
m_ov”Ïy
.
	`Re£t
();

173 
m_rubb”Bªd
 = 
çl£
;

175 
wxPošt
 
’dpošt
 = 
	`C®cUnsüŞËdPos™iÚ
(
ev’t
.
	`G‘Pos™iÚ
());

178 iàĞ
’dpošt
 !ğ
m_ªchÜpošt
 )

180 
	`wxLogMes§ge
("Selected„ectangle from (%d, %d)o (%d, %d)",

181 
m_ªchÜpošt
.
x
, m_ªchÜpošt.
y
,

182 
’dpošt
.
x
,ƒndpošt.
y
);

185 
	}
}

	@/home/vladyslav/CodeBlocks/WallEditor/src/events.cpp

10 
	~"W®lEd™ÜMaš.h
"

11 
	~"MyCªvas.h
"

19 
	$wxBEGIN_EVENT_TABLE
(
MyCªvas
, 
wxSüŞËdWšdow
)

20 
	$EVT_PAINT
 (
MyCªvas
::
OnPašt
)

21 
	$EVT_MOTION
 (
MyCªvas
::
OnMou£Move
)

22 
	$EVT_LEFT_DOWN
 (
MyCªvas
::
OnMou£Down
)

23 
	$EVT_LEFT_UP
 (
MyCªvas
::
OnMou£Up
)

24 
	$wxEND_EVENT_TABLE
()

27 
	$BEGIN_EVENT_TABLE
(
W®lEd™ÜF¿me
, 
wxF¿me
)

28 
	$EVT_CLOSE
(
W®lEd™ÜF¿me
::
OnClo£
)

29 
	$EVT_MENU
(
idM’uO³n
, 
W®lEd™ÜF¿me
::
OnO³n
)

30 
	$EVT_MENU
(
idM’uQu™
, 
W®lEd™ÜF¿me
::
OnQu™
)

31 
	$EVT_MENU
(
idM’uAbout
, 
W®lEd™ÜF¿me
::
OnAbout
)

41 
	`END_EVENT_TABLE
()

	@WallEditorApp.h

10 #iâdeà
WALLEDITORAPP_H


11 
	#WALLEDITORAPP_H


	)

13 
	~<wx/­p.h
>

15 şas 
	cW®lEd™ÜAµ
 : 
public
 
wxAµ


17 
public
:

18 
vœtu®
 
boŞ
 
OnIn™
();

	@WallEditorMain.h

10 #iâdeà
WALLEDITORMAIN_H


11 
	#WALLEDITORMAIN_H


	)

13 #iâdeà
WX_PRECOMP


14 
	~<wx/wx.h
>

17 
	~"W®lEd™ÜAµ.h
"

19 
şass
 
	gMyCªvas
;

21 şas 
	cW®lEd™ÜF¿me
: 
public
 
wxF¿me


23 
public
:

24 
W®lEd™ÜF¿me
(
wxF¿me
 *
äame
, cÚ¡ 
wxSŒšg
& 
t™Ë
);

25 
MyCªvas
 *
	mm_ÿnvas
;

26 
wxB™m­
 *
	mMyM­
 = 
nuÎ±r
;

29 
	$P»·»DC
(
wxDC
& 
dc
è
wxOVERRIDE
;

31 
m_backgroundMode
 = 
wxBRUSHSTYLE_SOLID
;

34 
m_xLogiÿlOrigš
;

35 
m_yLogiÿlOrigš
;

36 
boŞ
 
m_xAxisRev”£d
,

37 
m_yAxisRev”£d
;

38 #ià
wxUSE_DC_TRANSFORM_MATRIX


39 
wxDoubË
 
m_ŒªsfÜm_dx
;

40 
wxDoubË
 
m_ŒªsfÜm_dy
;

41 
wxDoubË
 
m_ŒªsfÜm_scx
;

42 
wxDoubË
 
m_ŒªsfÜm_scy
;

43 
wxDoubË
 
m_ŒªsfÜm_rÙ
;

45 
m_xU£rSÿË
,

46 
m_yU£rSÿË
;

51 
vœtu®
 ~
	`W®lEd™ÜF¿me
();

52 
´iv©e
:

53 
süŞl_pix_³r_un™
;

57 
idM’uQu™
 = 1000,

58 
idM’uAbout
,

59 
idM’uO³n


62 
	`OnClo£
(
wxClo£Ev’t
& 
ev’t
);

63 
	`OnO³n
(
wxCommªdEv’t
& 
ev’t
);

64 
	`OnQu™
(
wxCommªdEv’t
& 
ev’t
);

65 
	`OnAbout
(
wxCommªdEv’t
& 
ev’t
);

67 
	`DECLARE_EVENT_TABLE
()

68 
	}
};

	@
1
.
1
/usr/include
10
481
/home/vladyslav/CodeBlocks/WallEditor/WallEditorApp.cpp
/home/vladyslav/CodeBlocks/WallEditor/WallEditorApp.h
/home/vladyslav/CodeBlocks/WallEditor/WallEditorMain.cpp
/home/vladyslav/CodeBlocks/WallEditor/WallEditorMain.h
/home/vladyslav/CodeBlocks/WallEditor/include/MyCanvas.h
/home/vladyslav/CodeBlocks/WallEditor/src/MyCanvas.cpp
/home/vladyslav/CodeBlocks/WallEditor/src/event_handlers.cpp
/home/vladyslav/CodeBlocks/WallEditor/src/events.cpp
WallEditorApp.h
WallEditorMain.h
